<h2>Reset password</h2>

<div class="container">
	<div class="panel panel-primary">
		<div class="panel-heading">Reset Password</div>
		<div class="panel-body detail">
			<div class="has-error">
				<div class="help-block" id="loginFromMessage"></div>
			</div>
			<div class="row">
				<div class="col-md-12">
					Please check your email and enter token information below to reset your password!
				</div>
			</div>
			<form #form="ngForm" novalidate>
				<div class="form-horizontal">
				<div class="form-group" [class.has-error]="email.touched && email.invalid">
					<label for="email" class="control-label col-md-2">Email</label>
					<input #email="ngModel" name="email" class="form-control col-md-10" type="email" [(ngModel)]="model.email"
					 placeholder="Email Address" required autofocus />
					<div style="color:red" *ngIf="email.touched && email.invalid">
						Email is required.
					</div>
				</div>
				<div class="form-group" [class.has-error]="newPassword.touched && newPassword.invalid">
					<label for="newPassword" class="control-label col-md-2">New Password</label>
					<input #newPassword="ngModel" name="newPassword" class="form-control col-md-10" type="password" [(ngModel)]="model.newPassword"
					 placeholder="New Password" required />
					<div style="color:red" *ngIf="newPassword.touched && newPassword.invalid">
						New password is required.
					</div>
				</div>
				<div class="form-group" [class.has-error]="confirmPassword.touched && model.confirmPassword != model.newPassword">
					<label for="confirmPassword" class="control-label col-md-2">Confirm Password</label>
					<input #confirmPassword="ngModel" name="confirmPassword" class="form-control col-md-10" type="password" [(ngModel)]="model.confirmPassword"
					 placeholder="Confirm Password" required />
					<div style="color:red" *ngIf="confirmPassword.touched && model.confirmPassword != model.newPassword">
						Confirm password is required and must match new password.
					</div>
				</div>
				<div class="form-group">
					<label for="token" class="control-label col-md-2">Token</label>
					<input #token="ngModel" name="token" class="form-control col-md-10" type="text" [(ngModel)]="model.token"
					 placeholder="Reset Password Token" required />
					<div style="color:red" *ngIf="token.touched && token.invalid">
						Reset password token is required.
					</div>
				</div>
				</div>
			</form>
		</div>
		<div class="panel-footer clearfix">
			<div class="pull-right ng-isolate-scope">
				<button type="button" class="btn btn-primary" (click)="resetPassword()" [disabled]="form.invalid || model.newPassword != model.confirmPassword">Change Password</button>
				<a class="btn btn-primary" routerLink="/" routerLinkActive="active"><span class="glyphicon glyphicon-arrow-left"></span> Cancel</a>
			</div>
		</div>
	</div>
</div>

<!--
@using (Html.BeginForm("ResetPassword", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
{
    @Html.AntiForgeryToken()
    <h4>Reset your password.</h4>
    <hr />
    @Html.ValidationSummary("", new { @class = "text-danger" })
    @Html.HiddenFor(model => model.Code)
    <div class="form-group">
        @Html.LabelFor(m => m.Email, new { @class = "col-md-2 control-label" })
        <div class="col-md-10">
            @Html.TextBoxFor(m => m.Email, new { @class = "form-control" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.Password, new { @class = "col-md-2 control-label" })
        <div class="col-md-10">
            @Html.PasswordFor(m => m.Password, new { @class = "form-control" })
        </div>
    </div>
    <div class="form-group">
        @Html.LabelFor(m => m.ConfirmPassword, new { @class = "col-md-2 control-label" })
        <div class="col-md-10">
            @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control" })
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" class="btn btn-default" value="Reset" />
        </div>
    </div>
}

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
-->